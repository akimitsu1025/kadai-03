<html>
    <head>
        <title>eelテスト：</title>
        <link rel="stylesheet" href="./style.css">
    </head>
    <body>
        <h2>eelテスト：</h2>
        <!--#1 HTMを使い検索ワード入力と検索ボタンを作ってください。htmlフォルダ内のindex.htmlに対してHTMLタグを用いて追加してください。-->
        <form name="form1" action="cgi-bin/example.cgi" method="post">
            <p>検索したいキーワードを入力してください。</p>
            CSVファイル名<input id="csv_name" type="text"></input><br/>
            <input type="text" name='search_word' id='search_word' placeholder="検索ワードを入力">
            <input type="button" name="button" id='button' value="検索" onclick="return check();">
        </form>
        
        <textarea cols="30" rows="10" id="result" readonly></textarea> <!--#3-->

        <script type="text/javascript">
            function check(){
                //# 3 検索結果をデスクトップアプリの画面に表示できるようにtextareaタグを使ってログ表示領域を作成してください。（+30行目<textarea>の行）
                var UserString = document.getElementById('search_word').value;
                document.getElementById('result').value += UserString + "\n";
                //# 2 検索ワード入力が空だったらアラートを表示させ、検索はしないようにしてください。
                if (document.form1.search_word.value == "") {
                    alert("検索ワードを入力してください");
                    return false;
                }
                else {
                    return true;
                }
            }
        </script>

        <script type="text/javascript" src="/eel.js">
        //#4 作成したログ表示領域にkimetsu_searchの結果を表示できるようにしてください。
            button.addEventListener('click', () => {
                //alert(serch_word.value)
                eel.kimetsu_search(serch_word.value,csv_name.value)
            })

            eel.expose(view_log_js)
            function view_log_js(text){
                result.value += text + "\n"
            }
        </script>
    </body>
</html>




<!--現状の課題
#4は入力したけど、「{}はいます」にならない。。。＝関数が実行されていない？
source.csvと連動していないのでは？


★ Enterを押すとエラーページになる。

★　ライブラリのインストール（Pandas、eel）は、ファイルごとにする必要がある？
-->


<!--課題：#3ログ領域に反映されない。
★未入力で検索ボタンをクリックすると、アラート表示。これはOK。
★入力してEnterを押すと、ERRORが表示される。

★#3の参考サイト：
https://www.nishishi.com/javascript-tips/inputed-string-to-textarea-array.html



【質問】

<!-課題：#4->

★#3と#4がごっちゃになる。#4をやるなら#3は不要？上書きする？

★　source.csvとの連携も必要？

★　<script type="text/javascript">で言語選択できる？

★　gitignoreはできている？
　　不要ファイルは削除してOK？

★　提出する際は一つのファイルのみ？
　今はフォルダごと送ってしまっているけど。






<!現状の課題
#4は入力したけど、「{}はいます」にならない。。。＝関数が実行されていない？
source.csvと連動していないのでは？


★ Enterを押すとエラーページになる。

★　ライブラリのインストール（Pandas、eel）は、ファイルごとにする必要がある？
-->


<!--課題：#3ログ領域に反映されない。
★未入力で検索ボタンをクリックすると、アラート表示。これはOK。
★入力してEnterを押すと、ERRORが表示される。

★#3の参考サイト：
https://www.nishishi.com/javascript-tips/inputed-string-to-textarea-array.html





<!-課題：#4->

質問
★　<script type="text/javascript">で言語選択できる？

★　gitignoreはできている？
　　不要ファイルは削除してOK？

★　提出する際は一つのファイルのみ？
　今はフォルダごと送ってしまっているけど。

★　ライブラリのインストール（Pandas、eel）は、ファイルごとにする必要がある？